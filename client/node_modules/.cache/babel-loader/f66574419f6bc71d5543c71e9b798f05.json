{"ast":null,"code":"import _classCallCheck from \"/sgoinfre/goinfre/Perso/cgaspart/github/Zmanager/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/sgoinfre/goinfre/Perso/cgaspart/github/Zmanager/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/sgoinfre/goinfre/Perso/cgaspart/github/Zmanager/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/sgoinfre/goinfre/Perso/cgaspart/github/Zmanager/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/sgoinfre/goinfre/Perso/cgaspart/github/Zmanager/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/sgoinfre/goinfre/Perso/cgaspart/github/Zmanager/client/src/misc/search.js\";\nimport React, { Component } from 'react';\nimport { Grid } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport SearchItem from '../components/search';\nvar style = {\n  header: {\n    fontSize: 20,\n    color: 'rgb(50, 50, 60)',\n    padding: 25\n  },\n  subheader: {\n    fontSize: 20,\n    color: 'rgba(50, 50, 60, 0.5)'\n  }\n};\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this, props));\n    _this.state = {\n      searchInput: _this.props.match.params.search,\n      results: {\n        count: 0,\n        nodes: [],\n        accounts: []\n      }\n    };\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(\"/search/\".concat(this.state.searchInput)).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        if (data.count && data.count > 0) _this2.setState({\n          results: data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var _this$state = this.state,\n          results = _this$state.results,\n          searchInput = _this$state.searchInput;\n      return React.createElement(Grid, {\n        container: true,\n        direction: \"column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: classes.header,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, results.count, \" search results for: \", searchInput)), results.nodes.length ? React.createElement(Grid, {\n        item: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: classes.subheader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Nodes\"), React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, results.nodes.map(function (data) {\n        return React.createElement(SearchItem, {\n          data: data,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        });\n      }))) : null, results.accounts.length ? React.createElement(Grid, {\n        item: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: classes.subheader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Accounts\"), React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, results.accounts.map(function (data) {\n        return React.createElement(SearchItem, {\n          data: data,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        });\n      }))) : null);\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nexport default withStyles(style)(Search);","map":{"version":3,"sources":["/sgoinfre/goinfre/Perso/cgaspart/github/Zmanager/client/src/misc/search.js"],"names":["React","Component","Grid","withStyles","SearchItem","style","header","fontSize","color","padding","subheader","Search","props","state","searchInput","match","params","search","results","count","nodes","accounts","fetch","then","res","json","data","setState","classes","length","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Grid } from '@material-ui/core'\nimport { withStyles } from '@material-ui/core/styles'\n\nimport SearchItem from '../components/search'\n\nconst style = {\n\theader: {\n\t\tfontSize: 20,\n\t\tcolor: 'rgb(50, 50, 60)',\n\t\tpadding: 25,\n\t},\n\tsubheader: {\n\t\tfontSize: 20,\n\t\tcolor: 'rgba(50, 50, 60, 0.5)',\n\t}\n}\n\nclass Search extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tsearchInput: this.props.match.params.search,\n\t\t\tresults: { count: 0, nodes: [], accounts: [] },\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tfetch(`/search/${this.state.searchInput}`)\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\t\t\tif (data.count && data.count > 0)\n\t\t\t\tthis.setState({results: data})\n\t\t})\n\t}\n\n\trender() {\n\t\tconst { classes } = this.props\n\t\tconst { results, searchInput } = this.state\n\t\treturn (\n\t\t\t<Grid container direction=\"column\">\n\t\t\t\t<Grid item>\n\t\t\t\t\t<p className={classes.header}>\n\t\t\t\t\t\t{results.count} search results for: {searchInput}\n\t\t\t\t\t</p>\n\t\t\t\t</Grid>\n\t\t\t\t{ results.nodes.length ?\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<p className={classes.subheader}>Nodes</p>\n\t\t\t\t\t\t<Grid container direction=\"row\">\n\t\t\t\t\t\t\t{results.nodes.map(data => {\n\t\t\t\t\t\t\t\treturn <SearchItem data={data}/>\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t: null }\n\t\t\t\t{ results.accounts.length ?\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<p className={classes.subheader}>Accounts</p>\n\t\t\t\t\t\t<Grid container direction=\"row\">\n\t\t\t\t\t\t\t{results.accounts.map(data => {\n\t\t\t\t\t\t\t\treturn <SearchItem data={data}/>\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t: null }\n\t\t\t</Grid>\n\t\t)\n\t}\n}\n\nexport default withStyles(style)(Search)\n"]},"metadata":{},"sourceType":"module"}